# 自机属性整理

## 类/对象的共有属性

[`lstg.GameObject.lua`](../appendix/lstg-gameobject) 记录了各个类/对象所共有的属性，写的很清楚，所以我们这里只作一些补充，没有看过 `lstg.GameObject.lua` 的话请务必看一遍。

### 回调函数

一个类需要有以下 6 个回调函数：`init`, `frame`, `render`, `colli`, `kill`, `del`，它们描述对象在对应情景 (生成时、每帧、渲染时、碰撞时、被删除 (kill 或 delete) 时) 执行什么样的行为。
- `init`：创建对象时执行一次。
- `frame`：每帧更新对象状态时执行一次，负责额外的状态更新 (说额外是因为一些更新不由 `frame` 控制，比如 `x,y` 每帧自增 `vx,vy`)。需要注意在暂停时不会调用，因为暂停时对象状态不需要更新。
- `render`：每帧渲染对象时执行一次，负责渲染 (废话)，在暂停时也会调用，因为暂停时也需要渲染。所以不要在渲染里写状态更新，求求了。
- `colli`：对象和另一个对象碰撞时执行一次。若为空函数则什么也不会发生。
- `kill`, `del`：`Kill(self)`, `Del(self)` 时执行一次。若为空函数，对象仍然会被删掉。

这 6 个回调函数在类的两个地方存储两份：
- 对应名称的属性，正如我们所熟知的；
- 数组索引 1 ~ 6，这是给底层调用的，系统自己会处理，我们写自机的当它不存在。

通过 `Class(base)` 或 `lstg.CreateGameObjectClass()` 函数创建的类自动继承基类 `base` 的 6 个回调函数，如果没有基类，则为默认函数 (`render` 是默认渲染方法，其他是空方法)。详情参考 LuaSTG 的 `Lobject.lua` 文件。

其他回调函数，比如自机的 `shoot`, `spell` 等，则没有这些特殊待遇。

## 自机类特有属性

### `shoot`, `spell`, `special` 回调函数

对应自机的射击、使用 bomb、特殊操作 (c 键) 三个操作。

如果是空函数，按 z,c 键什么也不会发生，按 x 键会导致 bomb 数量蒸发 (乐)。

## 自机对象特有属性
